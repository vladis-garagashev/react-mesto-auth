{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","link","name","onClick","type","aria-label","length","Main","cards","onEditProfile","onEditAvatar","onAddPlace","avatar","about","map","Footer","year","Date","getFullYear","PopupWithForm","title","btnText","children","isOpen","onClose","onSubmit","method","noValidate","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","id","placeholder","value","onChange","target","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","DeleteCardPopup","ImagePopup","api","adress","token","cohortId","this","_adress","_token","_cohortId","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleResponse","data","body","JSON","stringify","isNotLiked","App","setCurrentUser","setCards","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","selectedDeleteCard","setSelectedDeleteCard","selectedCard","setSelectedCard","setLoading","closeAllPopups","getUserInfo","userData","catch","error","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","state","c","formData","editUserInfo","newUserData","finally","editUserAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b59d30e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.03b78ada.svg\";","import React from 'react';\nimport logo from '../images/header__logo.svg';\n\nfunction Header() {\n\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Mesto\"/>\n    </header>\n  );\n\n};\n\nexport default Header;\n","import  { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  //-----------------------------------\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `button button_type_like ${isLiked ? 'button_type_like_active' : ''}`\n  );\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `button ${isOwn ? 'button_type_delete' : 'button_type_delete_hidden'}`\n  );\n\n  //-----------------------------------\n\n  function handleClick() {\n    onCardClick(card);\n  };\n\n  function handleLikeClick() {\n    onCardLike(card);\n  };\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  };\n\n  //-----------------------------------\n\n  return (\n\n    <li className=\"card\">\n      <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick}/>\n      <div className=\"card__content\">\n        <h2 className=\"card__heading\">{card.name}</h2>\n        <div className=\"card__like\">\n          <button type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}></button>\n          <p className=\"card__likes-counter\">{card.likes.length}</p>\n        </div>\n        <button\n          type=\"button\"\n          className={cardDeleteButtonClassName}\n          aria-label=\"Удалить карточку\"\n          onClick={handleDeleteClick}></button>\n      </div>\n    </li>\n  );\n\n};\n\nexport default Card;\n\n","import { useContext } from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction Main({cards, onCardLike, onCardDelete, onEditProfile, onEditAvatar, onAddPlace, onCardClick}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <img className=\"profile__avatar-image\" src={currentUser?.avatar} alt={currentUser?.name}/>\n          <button\n            type=\"button\"\n            className=\"button button_type_edit-avatar\"\n            aria-label=\"Изменить аватар\"\n            onClick={onEditAvatar}>\n          </button>\n        </div>\n\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser?.name}</h1>\n          <button\n            type=\"button\"\n            className=\"button button_type_edit\"\n            aria-label=\"Редактировать профиль\"\n            onClick={onEditProfile}>\n          </button>\n          <p className=\"profile__job\">{currentUser?.about}</p>\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"button button_type_add\"\n          aria-label=\"Добавить фото\"\n          onClick={onAddPlace}>\n        </button>\n\n      </section>\n\n      <section className=\"cards\">\n        <ul className=\"cards__list\">\n          {cards.map((card) => (\n            <Card key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}/>\n          ))}\n        </ul>\n      </section>\n\n    </main>\n  );\n  \n};\n\nexport default Main;\n","import React from 'react';\n\n\nfunction Footer() {\n\n  const year = new Date().getFullYear();\n\n  return (\n  <footer className=\"footer\">\n    <p className=\"footer__copyright\">&copy; {year} Mesto Russia</p>\n  </footer>\n  );\n  \n};\n\nexport default Footer;\n","import React from 'react';\n\n\nfunction PopupWithForm({name, title, btnText, children, isOpen, onClose, onSubmit}) {\n\n  return (\n    <article className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n\n      <div className=\"popup__container\">\n        <form className=\"form\" method=\"POST\" name={name} noValidate onSubmit={onSubmit}>\n          <h3 className=\"form__heading\">{title}</h3>\n\n          {children}\n\n          <button className=\"form__submit-button\" type=\"submit\">{btnText}</button>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </form>\n      </div>\n\n    </article>\n  );\n\n};\n\nexport default PopupWithForm;\n","import { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isLoading}) {\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  // Подписка на контекст\n  const currentUser = useContext(CurrentUserContext);\n\n  //-----------------------------------\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setName(currentUser?.name);\n    setDescription(currentUser?.about);\n  }, [currentUser, isOpen]);\n\n  //-----------------------------------\n\n  // Обработчики изменения инпутов обновляют стейты\n  function handleNameChange(e) {\n    setName(e.target.value);\n  };\n  function handleDescriptionValueChange(e) {\n    setDescription(e.target.value);\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Редактировать профиль\" name=\"edit-profile\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_name\" type=\"text\" name=\"name\" id=\"name\" placeholder=\"Имя\" value={name || ''} onChange={handleNameChange} minLength=\"2\" maxLength=\"40\" required/>\n        <span className=\"form__item-error\" id=\"name-error\"></span>\n      </section>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_job\" type=\"text\" name=\"about\" id=\"about\" placeholder=\"О себе\" value={description || ''} onChange={handleDescriptionValueChange} minLength=\"2\" maxLength=\"200\" required/>\n        <span className=\"form__item-error\" id=\"about-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default EditProfilePopup;\n","import { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isLoading}) {\n\n  const avatarRef = useRef();\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Обновить аватар\" name=\"edit-avatar\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_image-link\" type=\"url\" name=\"avatar\" id=\"avatar\" placeholder=\"Ссылка на картинку\"required ref={avatarRef}/>\n        <span className=\"form__item-error\" id=\"avatar-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default EditAvatarPopup;\n","import { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace, isLoading}) {\n\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  //-----------------------------------\n\n  // Обработчики изменения инпутов обновляют стейты\n  function handleNameChange(e) {\n    setName(e.target.value);\n  };\n  function handleLinkValueChange(e) {\n    setLink(e.target.value);\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name,\n      link,\n    });\n  };\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Новое место\" name=\"add-card\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_name\" type=\"text\" name=\"name\" id=\"image-name\" placeholder=\"Название\" value={name || ''} onChange={handleNameChange} minLength=\"2\" maxLength=\"30\" required/>\n        <span className=\"form__item-error\" id=\"image-name-error\"></span>\n      </section>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_image-link\" type=\"url\" name=\"link\" id=\"image-link\" placeholder=\"Ссылка на картинку\" value={link || ''} onChange={handleLinkValueChange} required/>\n        <span className=\"form__item-error\" id=\"image-link-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction DeleteCardPopup({isOpen, onClose, isLoading, onCardDelete, card}) {\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n    onCardDelete(card);\n  };\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Вы уверены?\" name=\"delete-card\" btnText={isLoading ? 'Удаление...' : 'Да.'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}/>\n  );\n\n};\n\nexport default DeleteCardPopup;\n","import React from 'react';\n\n\nfunction ImagePopup({card, onClose}) {\n\n  return (\n    <article className={`popup ${card ? 'popup_opened' : ''}`} >\n\n      <div className=\"popup__container\">\n        <figure className=\"figure\">\n          <figcaption className=\"figure__figcaption\">\n            <img className=\"figure__image\" src={card?.link} alt={card?.name}/>\n            <p className=\"figure__caption\">{card?.name}</p>\n          </figcaption>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </figure>\n      </div>\n\n    </article>\n  );\n  \n};\n\nexport default ImagePopup;\n","class Api {\n  constructor({adress, token, cohortId}) {\n    this._adress = adress;\n    this._token = token;\n    this._cohortId = cohortId;\n  };\n\n  //-----------------------------------\n\n  // Функция обработки ответа промиса\n  _handleResponse(res)  {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  //-----------------------------------\n\n  // Функция получения информации о пользователе\n  getUserInfo() {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция редактирования аватара пользователя\n  editUserAvatar(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция редактирования информации о пользователе\n  editUserInfo(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция получения стандартных карточек\n  getInitialCards() {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция добавления новой карточки\n  addCard(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция проставки и удаления лайка для карточки\n  changeLikeCardStatus(id, isNotLiked) {\n\n    if(isNotLiked) {\n      return fetch(`${this._adress}/v1/${this._cohortId}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this._token\n        }\n      })\n      .then(res => this._handleResponse(res));\n\n    } else {\n      return fetch(`${this._adress}/v1/${this._cohortId}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token\n        }\n      })\n      .then(res => this._handleResponse(res));\n    };\n  };\n\n  //-----------------------------------\n\n  // Функция удаления карточки\n  deleteCard(id) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n};\n\n//-----------------------------------\n\n//Инстанцирование экземпляра класса Api\nconst api = new Api({\n  adress: 'https://mesto.nomoreparties.co',\n  token: '12e16369-63c3-45db-b812-aa3f60268f30',\n  cohortId: 'cohort-22'\n});\n\nexport default api\n","import { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState();\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] =useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\n  const [selectedDeleteCard, setSelectedDeleteCard] = useState(null);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n\n  //-----------------------------------\n\n  useEffect(() => {\n\n    // Получаем данные профиля\n    api.getUserInfo()\n    .then((userData) => {\n      setCurrentUser(userData);\n    })\n    .catch(error => console.log(error));\n\n    // Получаем карточки\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch(error => console.log(error));\n\n  }, []);\n\n  //-----------------------------------\n\n  // Функция проставки и удаления лайков у карточки\n  function handleCardLike(card) {\n\n    // Проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch(error => console.log(error));\n  };\n\n  //-----------------------------------\n\n  // Обработчики открытия и закрытия попапов\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  };\n\n  function handleCardDelete(card) {\n    setDeleteCardPopupOpen(true);\n    setSelectedDeleteCard(card);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeleteCardPopupOpen(false);\n    setSelectedDeleteCard(null);\n    setSelectedCard(null);\n  };\n\n  //-----------------------------------\n\n  // Обработчики обновления данных пользователя\n  function handleUpdateUser(formData) {\n    setLoading(true)\n    api.editUserInfo(formData)\n      .then(newUserData => {\n        setCurrentUser(newUserData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  function handleUpdateAvatar(formData) {\n    setLoading(true)\n    api.editUserAvatar(formData)\n      .then(newUserData => {\n        setCurrentUser(newUserData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  //-----------------------------------\n\n  // Обработчик добавления карточки\n  function handleAddPlaceSubmit(formData) {\n    setLoading(true)\n    api.addCard(formData)\n    .then(newCard => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      setLoading(false);\n    });\n  };\n\n  //-----------------------------------\n\n  // Функция удаления карточки\n  function handleCardDeleteSubmit(card) {\n    setLoading(true)\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n\n  };\n\n  //-----------------------------------\n\n  return (\n    <div className=\"page__container\">\n\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header/>\n\n        <Main\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick}\n          onAddPlace={handleAddPlaceClick}\n          onCardClick={handleCardClick}/>\n\n        <Footer/>\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading={isLoading}/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}/>\n        <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onCardDelete={handleCardDeleteSubmit} isLoading={isLoading} card={selectedDeleteCard}/>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n      </CurrentUserContext.Provider>\n\n    </div>\n  );\n\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}