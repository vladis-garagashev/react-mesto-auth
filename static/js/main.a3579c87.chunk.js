(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(20),i=n.n(o),s=n(10),r=(n(31),n(25)),l=n(4),u=n(2),d=n(3),j=n(21),m=Object(a.createContext)(),b=n(26),h=n(0),_=function(e){var t=e.component,n=Object(b.a)(e,["component"]);return Object(h.jsx)(d.b,{children:function(){return n.loggedIn?Object(h.jsx)(t,Object(l.a)({},n)):Object(h.jsx)(d.a,{to:"./sign-in"})}})};var f=function(e){var t=e.card,n=e.onCardClick,c=e.onCardLike,o=e.onCardDelete,i=Object(a.useContext)(m),s=t.owner._id===i._id,r=t.likes.some((function(e){return e._id===i._id})),l="button button_type_like ".concat(r?"button_type_like_active":""),u="button ".concat(s?"button_type_delete":"button_type_delete_hidden");return Object(h.jsxs)("li",{className:"card",children:[Object(h.jsx)("img",{className:"card__image",src:t.link,alt:t.name,onClick:function(){n(t)}}),Object(h.jsxs)("div",{className:"card__content",children:[Object(h.jsx)("h2",{className:"card__heading",children:t.name}),Object(h.jsxs)("div",{className:"card__like",children:[Object(h.jsx)("button",{type:"button",className:l,"aria-label":"\u041b\u0430\u0439\u043a",onClick:function(){c(t)}}),Object(h.jsx)("p",{className:"card__likes-counter",children:t.likes.length})]}),Object(h.jsx)("button",{type:"button",className:u,"aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",onClick:function(){o(t)}})]})]})},p=n.p+"static/media/header__logo.03b78ada.svg";var O=function(e){var t=e.loggedIn,n=e.userData,a=e.handleLogout,c=e.linkText,o=e.redirectPath,i=e.handleMenuClick,r=e.isOpen,l="header ".concat(t&&"header_type_mobile"),u="menu ".concat(t&&"menu_type_mobile"," ").concat(r&&"menu_opened"),d="button button_type_menu ".concat(r&&"button_type_menu_active");return Object(h.jsxs)("header",{className:l,children:[Object(h.jsx)("img",{className:"logo",src:p,alt:"Mesto"}),Object(h.jsxs)("nav",{className:u,children:[t&&Object(h.jsx)("p",{className:"menu__user-info",children:n.email}),t?Object(h.jsx)(s.b,{className:"menu__link menu__link_type_mobile",to:"sign-in",onClick:a,children:"\u0412\u044b\u0439\u0442\u0438"}):Object(h.jsx)(s.b,{className:"menu__link",to:o,children:c})]}),t&&Object(h.jsx)("button",{className:d,onClick:i})]})};var v=function(e){var t=e.cards,n=e.onCardLike,c=e.onCardDelete,o=e.onEditProfile,i=e.onEditAvatar,s=e.onAddPlace,r=e.onCardClick,l=e.loggedIn,u=e.handleLogout,d=e.userData,j=e.isMenuOpen,b=e.onMenuClick,_=Object(a.useContext)(m);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{loggedIn:l,userData:d,handleLogout:u,isOpen:j,handleMenuClick:b}),Object(h.jsxs)("main",{className:"content",children:[Object(h.jsxs)("section",{className:"profile",children:[Object(h.jsxs)("div",{className:"profile__avatar",children:[Object(h.jsx)("img",{className:"profile__avatar-image",src:null===_||void 0===_?void 0:_.avatar,alt:null===_||void 0===_?void 0:_.name}),Object(h.jsx)("button",{type:"button",className:"button button_type_edit-avatar","aria-label":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",onClick:i})]}),Object(h.jsxs)("div",{className:"profile__info",children:[Object(h.jsx)("h1",{className:"profile__name",children:null===_||void 0===_?void 0:_.name}),Object(h.jsx)("button",{type:"button",className:"button button_type_edit","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",onClick:o}),Object(h.jsx)("p",{className:"profile__job",children:null===_||void 0===_?void 0:_.about})]}),Object(h.jsx)("button",{type:"button",className:"button button_type_add","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e",onClick:s})]}),Object(h.jsx)("section",{className:"cards",children:Object(h.jsx)("ul",{className:"cards__list",children:t.map((function(e){return Object(h.jsx)(f,{card:e,onCardClick:r,onCardLike:n,onCardDelete:c},e._id)}))})})]})]})},g=n(9);var x=function(e){var t=e.handleAuth,n=e.isLoading,c=e.btnText,o=Object(a.useState)({email:"",password:""}),i=Object(u.a)(o,2),s=i[0],r=i[1];function d(e){var t=e.target,n=t.name,a=t.value;r(Object(l.a)(Object(l.a)({},s),{},Object(g.a)({},n,a)))}return Object(h.jsxs)("form",{className:"form form_type_auth",method:"POST",name:"login",noValidate:!0,onSubmit:function(e){e.preventDefault();var n=s.email,a=s.password;t({email:n,password:a})},children:[Object(h.jsxs)("section",{className:"form__section",children:[Object(h.jsx)("input",{className:"form__item form__item_type_auth form__item_element_email ",type:"email",name:"email",id:"email",placeholder:"Email",value:s.email,onChange:d,required:!0}),Object(h.jsx)("span",{className:"login__form-item_error",id:"email-error"})]}),Object(h.jsxs)("section",{className:"form__section",children:[Object(h.jsx)("input",{className:"form__item form__item_type_auth form__item_element_password",type:"password",name:"password",id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:s.password,onChange:d,minLength:"2",maxLength:"200",required:!0}),Object(h.jsx)("span",{className:"login__form-item_error",id:"password-error"})]}),Object(h.jsx)("button",{className:"form__submit-button form__submit-button_type_white",type:"submit",children:n?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":c})]})};var C=function(e){var t=e.handleLogin,n=e.isLoading;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{linkText:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",redirectPath:"/sign-up"}),Object(h.jsxs)("div",{className:"auth",children:[Object(h.jsx)("h1",{className:"auth__header",children:"\u0412\u0445\u043e\u0434"}),Object(h.jsx)(x,{handleAuth:t,isLoading:n,btnText:"\u0412\u043e\u0439\u0442\u0438"})]})]})};var k=function(e){var t=e.handleRegister,n=e.isLoading;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{linkText:"\u0412\u043e\u0439\u0442\u0438",redirectPath:"/sign-in"}),Object(h.jsxs)("div",{className:"auth",children:[Object(h.jsx)("h1",{className:"auth__header",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsx)(x,{handleAuth:t,isLoading:n,btnText:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(h.jsxs)("div",{className:"auth__signin",children:[Object(h.jsx)("p",{className:"auth__signin-caption",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(h.jsx)(s.b,{to:"sign-in",className:"auth__login-link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})};var N=function(){var e=(new Date).getFullYear();return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("p",{className:"footer__copyright",children:["\xa9 ",e," Mesto Russia"]})})},y=n.p+"static/media/success__image.1b6082f8.svg",S=n.p+"static/media/error__image.df8eddf6.svg";var L=function(e){var t=e.onClose,n=e.isOpen,a=e.isSuccess,c=a?y:S,o=a?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.";return Object(h.jsx)("article",{className:"popup ".concat(n?"popup_opened":""),onClick:t,children:Object(h.jsx)("div",{className:"popup__container",onClick:function(e){return e.stopPropagation()},children:Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("img",{className:"info__image",src:c,alt:o}),Object(h.jsx)("p",{className:"info__caption",children:o}),Object(h.jsx)("button",{className:"button button_type_close",type:"reset","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:t})]})})})};var T=function(e){var t=e.name,n=e.title,a=e.btnText,c=e.children,o=e.isOpen,i=e.onClose,s=e.onSubmit;return Object(h.jsx)("article",{className:"popup popup_type_".concat(t," ").concat(o?"popup_opened":""),onClick:i,children:Object(h.jsx)("div",{className:"popup__container",onClick:function(e){return e.stopPropagation()},children:Object(h.jsxs)("form",{className:"form",method:"POST",name:t,noValidate:!0,onSubmit:s,children:[Object(h.jsx)("h3",{className:"form__heading",children:n}),c,Object(h.jsx)("button",{className:"form__submit-button",type:"submit",children:a}),Object(h.jsx)("button",{className:"button button_type_close",type:"reset","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:i})]})})})};var I=function(e){var t=e.isOpen,n=e.onClose,c=e.onUpdateUser,o=e.isLoading,i=Object(a.useState)({name:"",about:""}),s=Object(u.a)(i,2),r=s[0],d=s[1],j=Object(a.useContext)(m);function b(e){var t=e.target,n=t.name,a=t.value;d(Object(l.a)(Object(l.a)({},r),{},Object(g.a)({},n,a)))}return Object(a.useEffect)((function(){d(Object(l.a)(Object(l.a)({},r),{},{name:null===j||void 0===j?void 0:j.name,about:null===j||void 0===j?void 0:j.about}))}),[j,t]),Object(h.jsxs)(T,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit-profile",btnText:o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c({name:r.name,about:r.about})},children:[Object(h.jsxs)("section",{className:"form__section",children:[Object(h.jsx)("input",{className:"form__item form__item_element_name",type:"text",name:"name",id:"name",placeholder:"\u0418\u043c\u044f",value:r.name||"",onChange:b,minLength:"2",maxLength:"40",required:!0}),Object(h.jsx)("span",{className:"form__item-error",id:"name-error"})]}),Object(h.jsxs)("section",{className:"form__section",children:[Object(h.jsx)("input",{className:"form__item form__item_element_job",type:"text",name:"about",id:"about",placeholder:"\u041e \u0441\u0435\u0431\u0435",value:r.about||"",onChange:b,minLength:"2",maxLength:"200",required:!0}),Object(h.jsx)("span",{className:"form__item-error",id:"about-error"})]})]})};var P=function(e){var t=e.isOpen,n=e.onClose,c=e.onUpdateAvatar,o=e.isLoading,i=Object(a.useState)({avatar:""}),s=Object(u.a)(i,2),r=s[0],d=s[1];return Object(a.useEffect)((function(){d({avatar:""})}),[t]),Object(h.jsx)(T,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"edit-avatar",btnText:o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c({avatar:r.avatar})},children:Object(h.jsxs)("section",{className:"form__section",children:[Object(h.jsx)("input",{className:"form__item form__item_element_image-link",type:"url",name:"avatar",id:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:r.avatar,onChange:function(e){var t=e.target,n=t.name,a=t.value;d(Object(l.a)(Object(l.a)({},r),{},Object(g.a)({},n,a)))},required:!0}),Object(h.jsx)("span",{className:"form__item-error",id:"avatar-error"})]})})};var w=function(e){var t=e.isOpen,n=e.onClose,c=e.onAddPlace,o=e.isLoading,i=Object(a.useState)({name:"",link:""}),s=Object(u.a)(i,2),r=s[0],d=s[1];function j(e){var t=e.target,n=t.name,a=t.value;d(Object(l.a)(Object(l.a)({},r),{},Object(g.a)({},n,a)))}return Object(a.useEffect)((function(){d({name:"",link:""})}),[t]),Object(h.jsxs)(T,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add-card",btnText:o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c({name:r.name,link:r.link})},children:[Object(h.jsxs)("section",{className:"form__section",children:[Object(h.jsx)("input",{className:"form__item form__item_element_name",type:"text",name:"name",id:"image-name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:r.name,onChange:j,minLength:"2",maxLength:"30",required:!0}),Object(h.jsx)("span",{className:"form__item-error",id:"image-name-error"})]}),Object(h.jsxs)("section",{className:"form__section",children:[Object(h.jsx)("input",{className:"form__item form__item_element_image-link",type:"url",name:"link",id:"image-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:r.link,onChange:j,required:!0}),Object(h.jsx)("span",{className:"form__item-error",id:"image-link-error"})]})]})};var D=function(e){var t=e.isOpen,n=e.onClose,a=e.isLoading,c=e.onCardDelete,o=e.card;return Object(h.jsx)(T,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete-card",btnText:a?"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...":"\u0414\u0430.",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c(o)}})};var E=function(e){var t=e.card,n=e.onClose;return Object(h.jsx)("article",{className:"popup ".concat(t?"popup_opened":""),onClick:n,children:Object(h.jsx)("div",{className:"popup__container",onClick:function(e){return e.stopPropagation()},children:Object(h.jsxs)("figure",{className:"figure",children:[Object(h.jsxs)("figcaption",{className:"figure__figcaption",children:[Object(h.jsx)("img",{className:"figure__image",src:null===t||void 0===t?void 0:t.link,alt:null===t||void 0===t?void 0:t.name}),Object(h.jsx)("p",{className:"figure__caption",children:null===t||void 0===t?void 0:t.name})]}),Object(h.jsx)("button",{className:"button button_type_close",type:"reset","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",onClick:n})]})})})},A=n(23),U=n(24),R=new(function(){function e(t){var n=t.adress,a=t.token,c=t.cohortId;Object(A.a)(this,e),this._handleResponse=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))},this._adress=n,this._token=a,this._cohortId=c}return Object(U.a)(e,[{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/users/me"),{headers:{authorization:this._token}}).then((function(t){return e._handleResponse(t)}))}},{key:"editUserAvatar",value:function(e){var t=this;return fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._handleResponse(e)}))}},{key:"editUserInfo",value:function(e){var t=this;return fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._handleResponse(e)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/cards"),{headers:{authorization:this._token}}).then((function(t){return e._handleResponse(t)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._handleResponse(e)}))}},{key:"changeLikeCardStatus",value:function(e,t){var n=this;return t?fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._token}}).then((function(e){return n._handleResponse(e)})):fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return n._handleResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._adress,"/v1/").concat(this._cohortId,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return t._handleResponse(e)}))}}]),e}())({adress:"https://mesto.nomoreparties.co",token:"12e16369-63c3-45db-b812-aa3f60268f30",cohortId:"cohort-22"}),z="https://auth.nomoreparties.co",M=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))};var F=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),s=i[0],b=i[1],f=Object(a.useState)(!1),p=Object(u.a)(f,2),O=p[0],g=p[1],x=Object(a.useState)(!1),y=Object(u.a)(x,2),S=y[0],T=y[1],A=Object(a.useState)(!1),U=Object(u.a)(A,2),F=U[0],q=U[1],J=Object(a.useState)(!1),B=Object(u.a)(J,2),H=B[0],V=B[1],K=Object(a.useState)(null),Y=Object(u.a)(K,2),G=Y[0],Q=Y[1],W=Object(a.useState)(null),X=Object(u.a)(W,2),Z=X[0],$=X[1],ee=Object(a.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),oe=Object(u.a)(ce,2),ie=oe[0],se=oe[1],re=Object(a.useState)({email:"",_id:""}),le=Object(u.a)(re,2),ue=le[0],de=le[1],je=Object(a.useState)(!1),me=Object(u.a)(je,2),be=me[0],he=me[1],_e=Object(a.useState)(!1),fe=Object(u.a)(_e,2),pe=fe[0],Oe=fe[1],ve=Object(a.useState)(!1),ge=Object(u.a)(ve,2),xe=ge[0],Ce=ge[1],ke=Object(d.g)(),Ne=Object(j.a)("(max-width: 767px)");Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("jwt");e&&(t=e,fetch("".concat(z,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return M(e)}))).then((function(e){var t=e.data,n=t.email,a=t._id;de({email:n,_id:a}),he(!0),ke.push("/")})).catch((function(e){return console.log(e)}));var t}(),R.getUserInfo().then((function(e){c(e)})).catch((function(e){return console.log(e)})),R.getInitialCards().then((function(e){b(e)})).catch((function(e){return console.log(e)})),Ne||se(!1)}),[Ne]);var ye=function(){Oe(!1),Se()};function Se(){Ce(!0)}function Le(){q(!1),g(!1),T(!1),V(!1),Q(null),$(null),Ce(!1)}return Object(h.jsx)("div",{className:"page__container",onKeyDown:function(e){"Escape"===e.key&&Le()},children:Object(h.jsxs)(m.Provider,{value:n,children:[Object(h.jsxs)(d.d,{children:[Object(h.jsx)(_,{exact:!0,path:"/",loggedIn:be,component:v,cards:s,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===n._id}));R.changeLikeCardStatus(e._id,!t).then((function(t){b((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:function(e){V(!0),Q(e)},onEditProfile:function(){g(!0)},onEditAvatar:function(){q(!0)},onAddPlace:function(){T(!0)},onCardClick:function(e){$(e)},handleLogout:function(){he(!1),localStorage.removeItem("jwt"),de({email:"",_id:""})},userData:ue,isMenuOpen:ie,onMenuClick:function(){se(!ie)}}),Object(h.jsx)(d.b,{path:"/sign-up",children:Object(h.jsx)(k,{handleRegister:function(e){var t=e.email,n=e.password;ae(!0),function(e,t){return fetch("".concat(z,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return M(e)}))}(n,t).then((function(e){var t=e.data,n=t.email,a=t._id;de({email:n,_id:a}),Oe(!0),Se(),ke.push("/sign-in")})).catch(ye).finally((function(){ae(!1)}))},isLoading:ne})}),Object(h.jsx)(d.b,{path:"/sign-in",children:Object(h.jsx)(C,{handleLogin:function(e){var t=e.email,n=e.password;ae(!0),function(e,t){return fetch("".concat(z,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return M(e)}))}(n,t).then((function(e){var n=e.token;localStorage.setItem("jwt",n),de(Object(l.a)(Object(l.a)({},ue),{},{email:t})),he(!0),ke.push("/")})).catch(ye).finally((function(){ae(!1)}))},isLoading:ne})}),Object(h.jsx)(d.b,{path:"/",children:be?Object(h.jsx)(d.a,{to:"/"}):Object(h.jsx)(d.a,{to:"/sign-in"})})]}),Object(h.jsx)(N,{}),Object(h.jsx)(I,{isOpen:O,onClose:Le,onUpdateUser:function(e){ae(!0),R.editUserInfo(e).then((function(e){c(e),Le()})).catch((function(e){return console.log(e)})).finally((function(){ae(!1)}))},isLoading:ne}),Object(h.jsx)(P,{isOpen:F,onClose:Le,onUpdateAvatar:function(e){ae(!0),R.editUserAvatar(e).then((function(e){c(e),Le()})).catch((function(e){return console.log(e)})).finally((function(){ae(!1)}))},isLoading:ne}),Object(h.jsx)(w,{isOpen:S,onClose:Le,onAddPlace:function(e){ae(!0),R.addCard(e).then((function(e){b([e].concat(Object(r.a)(s))),Le()})).catch((function(e){return console.log(e)})).finally((function(){ae(!1)}))},isLoading:ne}),Object(h.jsx)(D,{isOpen:H,onClose:Le,onCardDelete:function(e){ae(!0),R.deleteCard(e._id).then((function(){b((function(t){return t.filter((function(t){return t._id!==e._id}))})),Le()})).catch((function(e){return console.log(e)})).finally((function(){ae(!1)}))},isLoading:ne,card:G}),Object(h.jsx)(E,{card:Z,onClose:Le}),Object(h.jsx)(L,{isSuccess:pe,isOpen:xe,onClose:Le})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(s.a,{children:Object(h.jsx)(F,{})})}),document.getElementById("root")),q()}},[[38,1,2]]]);
//# sourceMappingURL=main.a3579c87.chunk.js.map