{"version":3,"sources":["contexts/CurrentUserContext.js","components/ProtectedRoute.js","components/Card.js","images/header__logo.svg","components/Header.js","components/Main.js","components/AuthForm.js","components/Login.js","components/Register.js","components/Footer.js","images/success__image.svg","images/error__image.svg","components/InfoTooltip.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","ProtectedRoute","Component","component","props","loggedIn","to","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","className","src","link","alt","name","onClick","type","aria-label","length","Header","userData","handleLogout","linkText","redirectPath","handleMenuClick","isOpen","headerClassName","menuClassName","buttonClassName","logo","email","Main","cards","onEditProfile","onEditAvatar","onAddPlace","isMenuOpen","onMenuClick","avatar","about","map","AuthForm","handleAuth","isLoading","btnText","useState","password","data","setData","handleChange","evt","target","value","method","noValidate","onSubmit","preventDefault","id","placeholder","onChange","required","minLength","maxLength","Login","handleLogin","Register","handleRegister","Footer","year","Date","getFullYear","InfoTooltip","onClose","isSuccess","image","successImage","errorImage","caption","e","stopPropagation","PopupWithForm","title","children","EditProfilePopup","onUpdateUser","useEffect","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","DeleteCardPopup","ImagePopup","api","adress","token","cohortId","_handleResponse","res","ok","json","Promise","reject","status","this","_adress","_token","_cohortId","fetch","headers","authorization","then","body","JSON","stringify","isNotLiked","BASE_URL","handleResponse","App","setCurrentUser","setCards","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","selectedDeleteCard","setSelectedDeleteCard","selectedCard","setSelectedCard","setLoading","setIsMenuOpen","setUserData","setLoggedIn","setSuccess","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","history","useHistory","mobileWidth","useMediaQuery","jwt","localStorage","getItem","push","catch","error","console","log","checkToken","getUserInfo","getInitialCards","handleError","handleInfoTooltipOpen","closeAllPopups","onKeyDown","key","Provider","exact","path","changeLikeCardStatus","newCard","state","c","removeItem","auth","finally","setItem","formData","editUserInfo","newUserData","editUserAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3579c87.chunk.js","sourcesContent":["import  { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  //-----------------------------------\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `button button_type_like ${isLiked ? 'button_type_like_active' : ''}`\n  );\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `button ${isOwn ? 'button_type_delete' : 'button_type_delete_hidden'}`\n  );\n\n  //-----------------------------------\n\n  function handleClick() {\n    onCardClick(card);\n  };\n\n  function handleLikeClick() {\n    onCardLike(card);\n  };\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  };\n\n  //-----------------------------------\n\n  return (\n\n    <li className=\"card\">\n      <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick}/>\n      <div className=\"card__content\">\n        <h2 className=\"card__heading\">{card.name}</h2>\n        <div className=\"card__like\">\n          <button type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}></button>\n          <p className=\"card__likes-counter\">{card.likes.length}</p>\n        </div>\n        <button\n          type=\"button\"\n          className={cardDeleteButtonClassName}\n          aria-label=\"Удалить карточку\"\n          onClick={handleDeleteClick}></button>\n      </div>\n    </li>\n  );\n\n};\n\nexport default Card;\n\n","export default __webpack_public_path__ + \"static/media/header__logo.03b78ada.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../images/header__logo.svg';\n\n\nfunction Header({loggedIn, userData, handleLogout, linkText, redirectPath, handleMenuClick, isOpen}) {\n\n  const headerClassName = (\n    `header ${loggedIn && 'header_type_mobile'}`\n  );\n\n  const menuClassName = (\n    `menu ${loggedIn && 'menu_type_mobile'} ${isOpen && 'menu_opened'}`\n  );\n\n  const buttonClassName = (\n    `button button_type_menu ${isOpen && 'button_type_menu_active'}`\n  );\n\n  return (\n    <header className={headerClassName}>\n      <img className=\"logo\" src={logo} alt=\"Mesto\"/>\n      <nav className={menuClassName}>\n        {loggedIn && <p className=\"menu__user-info\">{userData.email}</p>}\n        {loggedIn ? <Link className=\"menu__link menu__link_type_mobile\" to=\"sign-in\" onClick={handleLogout}>Выйти</Link> : <Link className=\"menu__link\" to={redirectPath}>{linkText}</Link>}\n      </nav>\n      {loggedIn && <button className={buttonClassName} onClick={handleMenuClick} ></button>}\n    </header>\n  );\n\n};\n\nexport default Header;\n","import { useContext } from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport Header from './Header';\n\n\nfunction Main({cards, onCardLike, onCardDelete, onEditProfile, onEditAvatar, onAddPlace, onCardClick, loggedIn, handleLogout, userData, isMenuOpen, onMenuClick}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header loggedIn={loggedIn} userData={userData} handleLogout={handleLogout} isOpen={isMenuOpen} handleMenuClick={onMenuClick}/>\n      <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <img className=\"profile__avatar-image\" src={currentUser?.avatar} alt={currentUser?.name}/>\n            <button\n              type=\"button\"\n              className=\"button button_type_edit-avatar\"\n              aria-label=\"Изменить аватар\"\n              onClick={onEditAvatar}>\n            </button>\n          </div>\n\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser?.name}</h1>\n            <button\n              type=\"button\"\n              className=\"button button_type_edit\"\n              aria-label=\"Редактировать профиль\"\n              onClick={onEditProfile}>\n            </button>\n            <p className=\"profile__job\">{currentUser?.about}</p>\n          </div>\n\n          <button\n            type=\"button\"\n            className=\"button button_type_add\"\n            aria-label=\"Добавить фото\"\n            onClick={onAddPlace}>\n          </button>\n\n        </section>\n\n        <section className=\"cards\">\n          <ul className=\"cards__list\">\n            {cards.map((card) => (\n              <Card key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}/>\n            ))}\n          </ul>\n        </section>\n      </main>\n    </>\n  );\n\n};\n\nexport default Main;\n","import {useState} from 'react';\n\n\nfunction AuthForm({handleAuth, isLoading, btnText}) {\n\n  const [data, setData] = useState({\n    email: '',\n    password: ''\n  });\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const {email, password} = data;\n    handleAuth({email, password});\n  };\n\n  //-----------------------------------\n\n  return (\n    <form className=\"form form_type_auth\" method=\"POST\" name=\"login\" noValidate onSubmit={handleSubmit} >\n\n        <section className=\"form__section\">\n          <input className=\"form__item form__item_type_auth form__item_element_email \" type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" value={data.email} onChange={handleChange} required/>\n          <span className=\"login__form-item_error\" id=\"email-error\"></span>\n        </section>\n\n        <section className=\"form__section\">\n          <input className=\"form__item form__item_type_auth form__item_element_password\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"Пароль\" value={data.password} onChange={handleChange} minLength=\"2\" maxLength=\"200\" required/>\n          <span className=\"login__form-item_error\" id=\"password-error\"></span>\n        </section>\n\n        <button className=\"form__submit-button form__submit-button_type_white\" type=\"submit\">{isLoading? 'Загрузка...' : btnText}</button>\n    </form>\n  );\n\n};\n\nexport default AuthForm;\n","import React from 'react';\nimport Header from './Header';\nimport AuthForm from './AuthForm';\n\n\nfunction Login({handleLogin, isLoading}) {\n\n  return (\n    <>\n      <Header linkText='Регистрация' redirectPath='/sign-up'/>\n      <div className=\"auth\">\n        <h1 className=\"auth__header\">Вход</h1>\n        <AuthForm handleAuth={handleLogin} isLoading={isLoading} btnText='Войти'/>\n      </div>\n    </>\n  );\n\n};\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\nimport AuthForm from './AuthForm';\n\n\nfunction Register({handleRegister, isLoading}) {\n\n  return (\n    <>\n      <Header linkText='Войти' redirectPath='/sign-in'/>\n      <div className=\"auth\">\n        <h1 className=\"auth__header\">Регистрация</h1>\n        <AuthForm handleAuth={handleRegister} isLoading={isLoading} btnText='Зарегестрироваться'/>\n        <div className=\"auth__signin\">\n          <p className=\"auth__signin-caption\">Уже зарегистрированы?</p>\n          <Link to=\"sign-in\" className=\"auth__login-link\">Войти</Link>\n        </div>\n      </div>\n    </>\n  );\n\n};\n\nexport default Register;\n","import React from 'react';\n\n\nfunction Footer() {\n\n  const year = new Date().getFullYear();\n\n  return (\n  <footer className=\"footer\">\n    <p className=\"footer__copyright\">&copy; {year} Mesto Russia</p>\n  </footer>\n  );\n\n};\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/success__image.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error__image.df8eddf6.svg\";","import React from 'react';\n\nimport successImage from '../images/success__image.svg';\nimport errorImage from '../images/error__image.svg';\n\nfunction InfoTooltip({onClose, isOpen, isSuccess}) {\n  const image = isSuccess ? successImage : errorImage;\n  const caption = isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.';\n\n  return (\n    <article className={`popup ${isOpen ? 'popup_opened' : ''}`} onClick={onClose}>\n\n      <div className=\"popup__container\" onClick={e => e.stopPropagation()}>\n        <div className=\"info\">\n          <img className=\"info__image\" src={image} alt={caption}/>\n          <p className=\"info__caption\">{caption}</p>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </div>\n      </div>\n\n    </article>\n  );\n\n};\n\nexport default InfoTooltip;\n","import React from 'react';\n\n\nfunction PopupWithForm({name, title, btnText, children, isOpen, onClose, onSubmit}) {\n\n  return (\n    <article className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`} onClick={onClose}>\n\n      <div className=\"popup__container\" onClick={e => e.stopPropagation()}>\n        <form className=\"form\" method=\"POST\" name={name} noValidate onSubmit={onSubmit}>\n          <h3 className=\"form__heading\">{title}</h3>\n\n          {children}\n\n          <button className=\"form__submit-button\" type=\"submit\">{btnText}</button>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </form>\n      </div>\n\n    </article>\n  );\n\n};\n\nexport default PopupWithForm;\n","import { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isLoading}) {\n\n  const [data, setData] = useState({\n    name: '',\n    about: ''\n  });\n\n  // Подписка на контекст\n  const currentUser = useContext(CurrentUserContext);\n\n  //-----------------------------------\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setData({\n      ...data,\n      name : currentUser?.name,\n      about : currentUser?.about\n\n    });\n  }, [currentUser, isOpen]);\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name : data.name,\n      about: data.about\n    });\n  }\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Редактировать профиль\" name=\"edit-profile\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_name\" type=\"text\" name=\"name\" id=\"name\" placeholder=\"Имя\" value={data.name || ''} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required/>\n        <span className=\"form__item-error\" id=\"name-error\"></span>\n      </section>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_job\" type=\"text\" name=\"about\" id=\"about\" placeholder=\"О себе\" value={data.about || ''} onChange={handleChange} minLength=\"2\" maxLength=\"200\" required/>\n        <span className=\"form__item-error\" id=\"about-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default EditProfilePopup;\n","import { useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isLoading}) {\n\n  const [data, setData] = useState({\n    avatar: ''\n  });\n\n  //-----------------------------------\n\n  useEffect(() => {\n    setData({\n      avatar : ''\n    });\n  }, [isOpen])\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: data.avatar\n    });\n  }\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Обновить аватар\" name=\"edit-avatar\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_image-link\" type=\"url\" name=\"avatar\" id=\"avatar\" placeholder=\"Ссылка на картинку\" value={data.avatar} onChange={handleChange} required/>\n        <span className=\"form__item-error\" id=\"avatar-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default EditAvatarPopup;\n","import { useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace, isLoading}) {\n\n  const [data, setData] = useState({\n    name: '',\n    link: ''\n  });\n\n  //-----------------------------------\n\n  useEffect(() => {\n    setData({\n      name: '',\n      link: ''\n    });\n  }, [isOpen])\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: data.name,\n      link: data.link\n    });\n  };\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Новое место\" name=\"add-card\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_name\" type=\"text\" name=\"name\" id=\"image-name\" placeholder=\"Название\" value={data.name} onChange={handleChange} minLength=\"2\" maxLength=\"30\" required/>\n        <span className=\"form__item-error\" id=\"image-name-error\"></span>\n      </section>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_image-link\" type=\"url\" name=\"link\" id=\"image-link\" placeholder=\"Ссылка на картинку\" value={data.link} onChange={handleChange} required/>\n        <span className=\"form__item-error\" id=\"image-link-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction DeleteCardPopup({isOpen, onClose, isLoading, onCardDelete, card}) {\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n    onCardDelete(card);\n  };\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Вы уверены?\" name=\"delete-card\" btnText={isLoading ? 'Удаление...' : 'Да.'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}/>\n  );\n\n};\n\nexport default DeleteCardPopup;\n","import React from 'react';\n\n\nfunction ImagePopup({card, onClose}) {\n\n  return (\n    <article className={`popup ${card ? 'popup_opened' : ''}`} onClick={onClose}>\n\n      <div className=\"popup__container\" onClick={e => e.stopPropagation()}>\n        <figure className=\"figure\">\n          <figcaption className=\"figure__figcaption\">\n            <img className=\"figure__image\" src={card?.link} alt={card?.name}/>\n            <p className=\"figure__caption\">{card?.name}</p>\n          </figcaption>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </figure>\n      </div>\n\n    </article>\n  );\n\n};\n\nexport default ImagePopup;\n","class Api {\n  constructor({adress, token, cohortId}) {\n    this._adress = adress;\n    this._token = token;\n    this._cohortId = cohortId;\n  };\n\n  //-----------------------------------\n\n  // Функция обработки ответа промиса\n  _handleResponse = res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`);\n\n  //-----------------------------------\n\n  // Функция получения информации о пользователе\n  getUserInfo() {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция редактирования аватара пользователя\n  editUserAvatar(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция редактирования информации о пользователе\n  editUserInfo(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция получения стандартных карточек\n  getInitialCards() {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция добавления новой карточки\n  addCard(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция проставки и удаления лайка для карточки\n  changeLikeCardStatus(id, isNotLiked) {\n\n    if(isNotLiked) {\n      return fetch(`${this._adress}/v1/${this._cohortId}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this._token\n        }\n      })\n      .then(res => this._handleResponse(res));\n\n    } else {\n      return fetch(`${this._adress}/v1/${this._cohortId}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token\n        }\n      })\n      .then(res => this._handleResponse(res));\n    };\n  };\n\n  //-----------------------------------\n\n  // Функция удаления карточки\n  deleteCard(id) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n};\n\n//-----------------------------------\n\n//Инстанцирование экземпляра класса Api\nconst api = new Api({\n  adress: 'https://mesto.nomoreparties.co',\n  token: '12e16369-63c3-45db-b812-aa3f60268f30',\n  cohortId: 'cohort-22'\n});\n\nexport default api\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\n//-----------------------------------\n\n// Функция обработки ответа промиса\nconst handleResponse = res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`);\n\n//-----------------------------------\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      'password': password,\n      'email': email\n    })\n  }).then(res => handleResponse(res));\n};\n\nexport const authorise = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      'password': password,\n      'email': email\n    })\n  }).then(res => handleResponse(res));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization' : `Bearer ${token}`\n    }\n  }).then(res => handleResponse(res));\n};\n","import { useState, useEffect } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport useMediaQuery from 'react-hook-media-query'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport ProtectedRoute from './ProtectedRoute';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\nimport InfoTooltip from './InfoTooltip';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport ImagePopup from './ImagePopup';\n\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\n\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState();\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] =useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\n  const [selectedDeleteCard, setSelectedDeleteCard] = useState(null);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\n\n  const [userData, setUserData] = useState({\n    email: '',\n    _id: ''\n  });\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isSuccess, setSuccess] = useState(false);\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n\n  const history = useHistory();\n\n  const mobileWidth = useMediaQuery('(max-width: 767px)')\n\n  //-----------------------------------\n\n  useEffect(() => {\n\n    // Проверяем есть ли токен\n    checkToken()\n\n    // Получаем данные профиля\n    api.getUserInfo()\n    .then((userData) => {\n      setCurrentUser(userData);\n    })\n    .catch(error => console.log(error));\n\n    // Получаем карточки\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch(error => console.log(error));\n\n    // Проверяем ширину экрана\n    if (!mobileWidth) {\n      setIsMenuOpen(false);\n    };\n\n  }, [mobileWidth]);\n\n  //-----------------------------------\n\n  // Функция обработчик ошибки\n  const handleError = () => {\n    setSuccess(false);\n    handleInfoTooltipOpen(true);\n  };\n\n  // Функция регистрации пользователя\n  function handleRegister({email, password}) {\n    setLoading(true)\n    auth.register(password, email)\n      .then(data => {\n        const { email, _id } = data.data;\n        setUserData({ email, _id  });\n        setSuccess(true)\n        handleInfoTooltipOpen(true);\n        history.push('/sign-in');\n      })\n      .catch(handleError)\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  // Функция авторизации пользователя\n  function handleLogin({email, password}) {\n    setLoading(true)\n    auth.authorise(password, email)\n      .then(data => {\n        const { token } = data;\n        localStorage.setItem('jwt', token);\n        setUserData({ ...userData, email });\n        setLoggedIn(true);\n        history.push('/');\n      })\n      .catch(handleError)\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  // Функция деавторизации пользователя\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setUserData({\n      email: '',\n      _id: ''\n    });\n  };\n\n  // Функция проверки наличия токена\n  function checkToken() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then(data => {\n          const { email, _id } = data.data;\n          setUserData({ email, _id });\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch(error => console.log(error))};\n  };\n\n  //-----------------------------------\n  // Функция проставки и удаления лайков у карточки\n  function handleCardLike(card) {\n\n    // Проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch(error => console.log(error));\n  };\n\n  //-----------------------------------\n\n  // Обработчики открытия и закрытия попапов\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  };\n\n  function handleCardDelete(card) {\n    setDeleteCardPopupOpen(true);\n    setSelectedDeleteCard(card);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleInfoTooltipOpen() {\n    setInfoTooltipPopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeleteCardPopupOpen(false);\n    setSelectedDeleteCard(null);\n    setSelectedCard(null);\n    setInfoTooltipPopupOpen(false);\n  };\n\n  function handleEscClose(evt) {\n    const escapeKey = 'Escape';\n    if (evt.key === escapeKey) {\n      closeAllPopups()\n    };\n  };\n\n  //-----------------------------------\n\n  // Обработчики обновления данных пользователя\n  function handleUpdateUser(formData) {\n    setLoading(true)\n    api.editUserInfo(formData)\n      .then(newUserData => {\n        setCurrentUser(newUserData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  function handleUpdateAvatar(formData) {\n    setLoading(true)\n    api.editUserAvatar(formData)\n      .then(newUserData => {\n        setCurrentUser(newUserData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  //-----------------------------------\n\n  // Обработчик добавления карточки\n  function handleAddPlaceSubmit(formData) {\n    setLoading(true)\n    api.addCard(formData)\n    .then(newCard => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      setLoading(false);\n    });\n  };\n\n  //-----------------------------------\n\n  // Функция удаления карточки\n  function handleCardDeleteSubmit(card) {\n    setLoading(true)\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  //-----------------------------------\n\n  // Обработчик открытия и закрытия меню\n  function handleMenuButtonClick() {\n    setIsMenuOpen(!isMenuOpen)\n  };\n\n  //-----------------------------------\n\n  return (\n    <div className=\"page__container\" onKeyDown={handleEscClose}>\n\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            handleLogout={handleLogout}\n            userData={userData}\n            isMenuOpen={isMenuOpen}\n            onMenuClick={handleMenuButtonClick}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} isLoading={isLoading}/>\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} isLoading={isLoading}/>\n          </Route>\n          <Route path=\"/\">\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n\n        </Switch>\n\n        <Footer/>\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading={isLoading}/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}/>\n        <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onCardDelete={handleCardDeleteSubmit} isLoading={isLoading} card={selectedDeleteCard}/>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n        <InfoTooltip isSuccess={isSuccess} isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups}/>\n\n      </CurrentUserContext.Provider>\n\n    </div>\n  );\n\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}