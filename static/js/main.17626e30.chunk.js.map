{"version":3,"sources":["contexts/CurrentUserContext.js","images/header__logo.svg","components/Header.js","components/Login.js","components/Register.js","components/Card.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","images/success__image.svg","images/error__image.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","Header","loggedIn","userData","handleLogout","linkText","redirectPath","handleMenuClick","isOpen","headerClassName","menuClassName","buttonClassName","className","src","logo","alt","email","to","onClick","Login","handleLogin","isLoading","useState","password","data","setData","handleChange","evt","target","name","value","method","noValidate","onSubmit","preventDefault","type","id","placeholder","onChange","required","minLength","maxLength","Register","handleRegister","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","link","aria-label","length","Footer","year","Date","getFullYear","Main","cards","onEditProfile","onEditAvatar","onAddPlace","isMenuOpen","onMenuClick","avatar","about","map","PopupWithForm","title","btnText","children","onClose","EditProfilePopup","onUpdateUser","useEffect","e","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","DeleteCardPopup","ImagePopup","InfoTooltip","isSuccess","image","successImage","errorImage","caption","ProtectedRoute","Component","component","props","api","adress","token","cohortId","_handleResponse","res","ok","json","Promise","reject","status","this","_adress","_token","_cohortId","fetch","headers","authorization","then","body","JSON","stringify","isNotLiked","BASE_URL","handleResponse","App","setCurrentUser","setCards","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","selectedDeleteCard","setSelectedDeleteCard","selectedCard","setSelectedCard","setLoading","setIsMenuOpen","setUserData","setLoggedIn","setSuccess","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","history","useHistory","jwt","localStorage","getItem","push","catch","error","console","log","checkToken","getUserInfo","getInitialCards","handleError","handleInfoTooltipOpen","closeAllPopups","Provider","exact","path","changeLikeCardStatus","newCard","state","c","removeItem","auth","finally","setItem","formData","editUserInfo","newUserData","editUserAvatar","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17626e30.chunk.js","sourcesContent":["import  { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();\n\n","export default __webpack_public_path__ + \"static/media/header__logo.03b78ada.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport logo from '../images/header__logo.svg';\n\n\nfunction Header({loggedIn, userData, handleLogout, linkText, redirectPath, handleMenuClick, isOpen}) {\n\n  const headerClassName = (\n    `header ${loggedIn && 'header_type_mobile'}`\n  );\n\n  const menuClassName = (\n    `menu ${loggedIn && 'menu_type_mobile'} ${isOpen && 'menu_opened'}`\n  );\n\n  const buttonClassName = (\n    `button button_type_menu ${isOpen && 'button_type_menu_active'}`\n  );\n\n  return (\n    <header className={headerClassName}>\n      <img className=\"logo\" src={logo} alt=\"Mesto\"/>\n      <nav className={menuClassName}>\n        {loggedIn && <p className=\"menu__user-info\">{userData.email}</p>}\n        {loggedIn ? <Link className=\"menu__link menu__link_type_mobile\" to=\"sign-in\" onClick={handleLogout}>Выйти</Link> : <Link className=\"menu__link\" to={redirectPath}>{linkText}</Link>}\n      </nav>\n      {loggedIn && <button className={buttonClassName} onClick={handleMenuClick} ></button>}\n    </header>\n  );\n\n};\n\nexport default Header;\n","import {useState} from 'react';\nimport Header from './Header';\n\n\nfunction Login({handleLogin, isLoading}) {\n\n  const [data, setData] = useState({\n    email: '',\n    password: ''\n  });\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const {email, password} = data;\n    handleLogin({email, password});\n  };\n\n  //-----------------------------------\n\n  return (\n    <>\n      <Header linkText='Регистрация' redirectPath='/sign-up'/>\n      <div className=\"auth\">\n        <h1 className=\"auth__header\">Вход</h1>\n\n        <form className=\"form form_type_auth\" method=\"POST\" name=\"login\" noValidate onSubmit={handleSubmit}  >\n            <section className=\"form__section\">\n              <input className=\"form__item form__item_type_auth form__item_element_email \" type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" value={data.email} onChange={handleChange} required/>\n              <span className=\"login__form-item_error\" id=\"email-error\"></span>\n            </section>\n            <section className=\"form__section\">\n              <input className=\"form__item form__item_type_auth form__item_element_password\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"Пароль\" value={data.password} onChange={handleChange} minLength=\"2\" maxLength=\"200\" required/>\n              <span className=\"login__form-item_error\" id=\"password-error\"></span>\n            </section>\n\n            <button className=\"form__submit-button form__submit-button_type_white\" type=\"submit\">{isLoading? 'Загрузка...' : 'Войти'}</button>\n          </form>\n      </div>\n    </>\n  );\n\n};\n\nexport default Login;\n","import {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\n\n\nfunction Register({handleRegister, isLoading}) {\n\n  const [data, setData] = useState({\n    email: '',\n    password: ''\n  });\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const {email, password} = data;\n    handleRegister({email, password});\n  };\n\n  //-----------------------------------\n\n  return (\n    <>\n      <Header linkText='Войти' redirectPath='/sign-in'/>\n      <div className=\"auth\">\n        <h1 className=\"auth__header\">Регистрация</h1>\n\n        <form className=\"form form_type_auth\" method=\"POST\" name=\"login\" noValidate onSubmit={handleSubmit}>\n            <section className=\"form__section\">\n              <input className=\"form__item form__item_type_auth form__item_element_email \" type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" value={data.email} onChange={handleChange} required/>\n              <span className=\"login__form-item_error\" id=\"email-error\"></span>\n            </section>\n            <section className=\"form__section\">\n              <input className=\"form__item form__item_type_auth form__item_element_password\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"Пароль\" value={data.password} onChange={handleChange} minLength=\"2\" maxLength=\"200\" required/>\n              <span className=\"login__form-item_error\" id=\"password-error\"></span>\n            </section>\n\n            <button className=\"form__submit-button form__submit-button_type_white\" type=\"submit\">{isLoading? 'Загрузка...' : 'Зарегестрироваться'}</button>\n          </form>\n\n          <div className=\"auth__signin\">\n            <p className=\"auth__signin-caption\">Уже зарегистрированы?</p>\n            <Link to=\"sign-in\" className=\"auth__login-link\">Войти</Link>\n          </div>\n\n      </div>\n    </>\n  );\n\n};\n\nexport default Register;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n  //-----------------------------------\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `button button_type_like ${isLiked ? 'button_type_like_active' : ''}`\n  );\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `button ${isOwn ? 'button_type_delete' : 'button_type_delete_hidden'}`\n  );\n\n  //-----------------------------------\n\n  function handleClick() {\n    onCardClick(card);\n  };\n\n  function handleLikeClick() {\n    onCardLike(card);\n  };\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  };\n\n  //-----------------------------------\n\n  return (\n\n    <li className=\"card\">\n      <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick}/>\n      <div className=\"card__content\">\n        <h2 className=\"card__heading\">{card.name}</h2>\n        <div className=\"card__like\">\n          <button type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}></button>\n          <p className=\"card__likes-counter\">{card.likes.length}</p>\n        </div>\n        <button\n          type=\"button\"\n          className={cardDeleteButtonClassName}\n          aria-label=\"Удалить карточку\"\n          onClick={handleDeleteClick}></button>\n      </div>\n    </li>\n  );\n\n};\n\nexport default Card;\n\n","import React from 'react';\n\n\nfunction Footer() {\n\n  const year = new Date().getFullYear();\n\n  return (\n  <footer className=\"footer\">\n    <p className=\"footer__copyright\">&copy; {year} Mesto Russia</p>\n  </footer>\n  );\n\n};\n\nexport default Footer;\n","import { useContext } from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport Footer from './Footer';\n\n\nfunction Main({cards, onCardLike, onCardDelete, onEditProfile, onEditAvatar, onAddPlace, onCardClick, loggedIn, handleLogout, userData, isMenuOpen, onMenuClick}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header loggedIn={loggedIn} userData={userData} handleLogout={handleLogout} isOpen={isMenuOpen} handleMenuClick={onMenuClick}/>\n      <main className=\"content\">\n\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <img className=\"profile__avatar-image\" src={currentUser?.avatar} alt={currentUser?.name}/>\n            <button\n              type=\"button\"\n              className=\"button button_type_edit-avatar\"\n              aria-label=\"Изменить аватар\"\n              onClick={onEditAvatar}>\n            </button>\n          </div>\n\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser?.name}</h1>\n            <button\n              type=\"button\"\n              className=\"button button_type_edit\"\n              aria-label=\"Редактировать профиль\"\n              onClick={onEditProfile}>\n            </button>\n            <p className=\"profile__job\">{currentUser?.about}</p>\n          </div>\n\n          <button\n            type=\"button\"\n            className=\"button button_type_add\"\n            aria-label=\"Добавить фото\"\n            onClick={onAddPlace}>\n          </button>\n\n        </section>\n\n        <section className=\"cards\">\n          <ul className=\"cards__list\">\n            {cards.map((card) => (\n              <Card key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}/>\n            ))}\n          </ul>\n        </section>\n\n      </main>\n      <Footer/>\n    </>\n  );\n\n};\n\nexport default Main;\n","import React from 'react';\n\n\nfunction PopupWithForm({name, title, btnText, children, isOpen, onClose, onSubmit}) {\n\n  return (\n    <article className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n\n      <div className=\"popup__container\">\n        <form className=\"form\" method=\"POST\" name={name} noValidate onSubmit={onSubmit}>\n          <h3 className=\"form__heading\">{title}</h3>\n\n          {children}\n\n          <button className=\"form__submit-button\" type=\"submit\">{btnText}</button>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </form>\n      </div>\n\n    </article>\n  );\n\n};\n\nexport default PopupWithForm;\n","import { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isLoading}) {\n\n  const [data, setData] = useState({\n    name: '',\n    about: ''\n  });\n\n  // Подписка на контекст\n  const currentUser = useContext(CurrentUserContext);\n\n  //-----------------------------------\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setData({\n      ...data,\n      name : currentUser?.name,\n      about : currentUser?.about\n\n    });\n  }, [currentUser, isOpen]);\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name : data.name,\n      about: data.about\n    });\n  }\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Редактировать профиль\" name=\"edit-profile\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_name\" type=\"text\" name=\"name\" id=\"name\" placeholder=\"Имя\" value={data.name || ''} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required/>\n        <span className=\"form__item-error\" id=\"name-error\"></span>\n      </section>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_job\" type=\"text\" name=\"about\" id=\"about\" placeholder=\"О себе\" value={data.about || ''} onChange={handleChange} minLength=\"2\" maxLength=\"200\" required/>\n        <span className=\"form__item-error\" id=\"about-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default EditProfilePopup;\n","import { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isLoading}) {\n\n  const avatarRef = useRef();\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Обновить аватар\" name=\"edit-avatar\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_image-link\" type=\"url\" name=\"avatar\" id=\"avatar\" placeholder=\"Ссылка на картинку\"required ref={avatarRef}/>\n        <span className=\"form__item-error\" id=\"avatar-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default EditAvatarPopup;\n","import { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace, isLoading}) {\n\n  const [data, setData] = useState({\n    name: '',\n    link: ''\n  });\n\n  //-----------------------------------\n\n  // Обработчик изменения инпутов\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name] : value\n    });\n  };\n\n  //-----------------------------------\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: data.name,\n      link: data.link\n    });\n  };\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Новое место\" name=\"add-card\" btnText={isLoading ? 'Сохранение...' : 'Сохранить'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_name\" type=\"text\" name=\"name\" id=\"image-name\" placeholder=\"Название\" value={data.name} onChange={handleChange} minLength=\"2\" maxLength=\"30\" required/>\n        <span className=\"form__item-error\" id=\"image-name-error\"></span>\n      </section>\n      <section className=\"form__section\">\n        <input className=\"form__item form__item_element_image-link\" type=\"url\" name=\"link\" id=\"image-link\" placeholder=\"Ссылка на картинку\" value={data.link} onChange={handleChange} required/>\n        <span className=\"form__item-error\" id=\"image-link-error\"></span>\n      </section>\n    </PopupWithForm>\n  );\n\n};\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction DeleteCardPopup({isOpen, onClose, isLoading, onCardDelete, card}) {\n\n  // Обработчик сабмита формы\n  function handleSubmit(e) {\n    e.preventDefault();\n    onCardDelete(card);\n  };\n\n  //-----------------------------------\n\n  return (\n    <PopupWithForm title=\"Вы уверены?\" name=\"delete-card\" btnText={isLoading ? 'Удаление...' : 'Да.'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}/>\n  );\n\n};\n\nexport default DeleteCardPopup;\n","import React from 'react';\n\n\nfunction ImagePopup({card, onClose}) {\n\n  return (\n    <article className={`popup ${card ? 'popup_opened' : ''}`} >\n\n      <div className=\"popup__container\">\n        <figure className=\"figure\">\n          <figcaption className=\"figure__figcaption\">\n            <img className=\"figure__image\" src={card?.link} alt={card?.name}/>\n            <p className=\"figure__caption\">{card?.name}</p>\n          </figcaption>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </figure>\n      </div>\n\n    </article>\n  );\n  \n};\n\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/success__image.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error__image.df8eddf6.svg\";","import React from 'react';\n\nimport successImage from '../images/success__image.svg';\nimport errorImage from '../images/error__image.svg';\n\nfunction InfoTooltip({onClose, isOpen, isSuccess}) {\n  const image = isSuccess ? successImage : errorImage;\n  const caption = isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.';\n\n  return (\n    <article className={`popup ${isOpen ? 'popup_opened' : ''}`} >\n\n      <div className=\"popup__container\">\n        <div className=\"info\">\n          <img className=\"info__image\" src={image} alt={caption}/>\n          <p className=\"info__caption\">{caption}</p>\n          <button className=\"button button_type_close\" type=\"reset\" aria-label=\"Закрыть\" onClick={onClose}></button>\n        </div>\n      </div>\n\n    </article>\n  );\n\n};\n\nexport default InfoTooltip;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","class Api {\n  constructor({adress, token, cohortId}) {\n    this._adress = adress;\n    this._token = token;\n    this._cohortId = cohortId;\n  };\n\n  //-----------------------------------\n\n  // Функция обработки ответа промиса\n  _handleResponse = res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`);\n\n  //-----------------------------------\n\n  // Функция получения информации о пользователе\n  getUserInfo() {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция редактирования аватара пользователя\n  editUserAvatar(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция редактирования информации о пользователе\n  editUserInfo(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция получения стандартных карточек\n  getInitialCards() {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция добавления новой карточки\n  addCard(data) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n  //-----------------------------------\n\n  // Функция проставки и удаления лайка для карточки\n  changeLikeCardStatus(id, isNotLiked) {\n\n    if(isNotLiked) {\n      return fetch(`${this._adress}/v1/${this._cohortId}/cards/likes/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this._token\n        }\n      })\n      .then(res => this._handleResponse(res));\n\n    } else {\n      return fetch(`${this._adress}/v1/${this._cohortId}/cards/likes/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token\n        }\n      })\n      .then(res => this._handleResponse(res));\n    };\n  };\n\n  //-----------------------------------\n\n  // Функция удаления карточки\n  deleteCard(id) {\n    return fetch(`${this._adress}/v1/${this._cohortId}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token\n      }\n    })\n    .then(res => this._handleResponse(res));\n  };\n\n};\n\n//-----------------------------------\n\n//Инстанцирование экземпляра класса Api\nconst api = new Api({\n  adress: 'https://mesto.nomoreparties.co',\n  token: '12e16369-63c3-45db-b812-aa3f60268f30',\n  cohortId: 'cohort-22'\n});\n\nexport default api\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\n//-----------------------------------\n\n// Функция обработки ответа промиса\nconst handleResponse = res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`);\n\n//-----------------------------------\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      'password': password,\n      'email': email\n    })\n  }).then(res => handleResponse(res));\n};\n\nexport const authorise = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      'password': password,\n      'email': email\n    })\n  }).then(res => handleResponse(res));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization' : `Bearer ${token}`\n    }\n  }).then(res => handleResponse(res));\n};\n","import { useState, useEffect } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport Login from './Login';\nimport Register from './Register';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\n\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState();\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] =useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\n  const [selectedDeleteCard, setSelectedDeleteCard] = useState(null);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\n\n  const [userData, setUserData] = useState({\n    email: '',\n    _id: ''\n  });\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isSuccess, setSuccess] = useState(false);\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n\n  const history = useHistory();\n\n  //-----------------------------------\n\n  useEffect(() => {\n\n    // Проверяем есть ли токен\n    checkToken()\n\n    // Получаем данные профиля\n    api.getUserInfo()\n    .then((userData) => {\n      setCurrentUser(userData);\n    })\n    .catch(error => console.log(error));\n\n    // Получаем карточки\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch(error => console.log(error));\n\n  }, []);\n\n  //-----------------------------------\n\n  // Функция обработчик ошибки\n  const handleError = () => {\n    setSuccess(false);\n    handleInfoTooltipOpen(true);\n  };\n\n  // Функция регистрации пользователя\n  function handleRegister({email, password}) {\n    setLoading(true)\n    auth.register(password, email)\n      .then(data => {\n        const { email, _id } = data.data;\n        setUserData({ email, _id  });\n        setSuccess(true)\n        handleInfoTooltipOpen(true);\n      })\n      .catch(handleError)\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  // Функция авторизации пользователя\n  function handleLogin({email, password}) {\n    setLoading(true)\n    auth.authorise(password, email)\n      .then(data => {\n        const { token } = data;\n        localStorage.setItem('jwt', token);\n        setUserData({ ...userData, email });\n        setLoggedIn(true);\n        history.push('/');\n      })\n      .catch(handleError)\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  // Функция деавторизации пользователя\n  function handleLogout() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setUserData({\n      email: '',\n      _id: ''\n    });\n  };\n\n  // Функция проверки наличия токена\n  function checkToken() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then(data => {\n          const { email, _id } = data.data;\n          setUserData({ email, _id });\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch(error => console.log(error))};\n  };\n\n  //-----------------------------------\n  // Функция проставки и удаления лайков у карточки\n  function handleCardLike(card) {\n\n    // Проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch(error => console.log(error));\n  };\n\n  //-----------------------------------\n\n  // Обработчики открытия и закрытия попапов\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  };\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  };\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  };\n\n  function handleCardDelete(card) {\n    setDeleteCardPopupOpen(true);\n    setSelectedDeleteCard(card);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function handleInfoTooltipOpen() {\n    setInfoTooltipPopupOpen(true);\n  };\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeleteCardPopupOpen(false);\n    setSelectedDeleteCard(null);\n    setSelectedCard(null);\n  };\n\n  function closeInfoTooltipPopup() {\n    setInfoTooltipPopupOpen(false);\n    {isSuccess && history.push('/sign-in')};\n  };\n\n  //-----------------------------------\n\n  // Обработчики обновления данных пользователя\n  function handleUpdateUser(formData) {\n    setLoading(true)\n    api.editUserInfo(formData)\n      .then(newUserData => {\n        setCurrentUser(newUserData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  function handleUpdateAvatar(formData) {\n    setLoading(true)\n    api.editUserAvatar(formData)\n      .then(newUserData => {\n        setCurrentUser(newUserData);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  //-----------------------------------\n\n  // Обработчик добавления карточки\n  function handleAddPlaceSubmit(formData) {\n    setLoading(true)\n    api.addCard(formData)\n    .then(newCard => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      setLoading(false);\n    });\n  };\n\n  //-----------------------------------\n\n  // Функция удаления карточки\n  function handleCardDeleteSubmit(card) {\n    setLoading(true)\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        setLoading(false);\n      });\n\n  };\n\n  //-----------------------------------\n\n  // Обработчик открытия и закрытия меню\n  function handleMenuButtonClick() {\n    setIsMenuOpen(!isMenuOpen)\n    // Не могу понять как сделать, чтоб isMenuOpen становился false, когда исчезает иконка\n    // Можете обьяснить?)\n  };\n\n  //-----------------------------------\n\n  return (\n    <div className=\"page__container\">\n\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            handleLogout={handleLogout}\n            userData={userData}\n            isMenuOpen={isMenuOpen}\n            onMenuClick={handleMenuButtonClick}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} isLoading={isLoading}/>\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} isLoading={isLoading}/>\n          </Route>\n          <Route exact path=\"/\">\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n\n        </Switch>\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading={isLoading}/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading={isLoading}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading={isLoading}/>\n        <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onCardDelete={handleCardDeleteSubmit} isLoading={isLoading} card={selectedDeleteCard}/>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n        <InfoTooltip isSuccess={isSuccess} isOpen={isInfoTooltipPopupOpen} onClose={closeInfoTooltipPopup}/>\n\n      </CurrentUserContext.Provider>\n\n    </div>\n  );\n\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}